<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="//code.jquery.com/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="//jpostal-1006.appspot.com/jquery.jpostal.js"></script>
  <body>
    <form>
      <p>※郵便番号(ハイフンなし)</p>
      <input type="text" id="zip" name="zip"> <br>
      <p>※都道府県</p>
      <input type="text" id="prefecture" name="prefecture"><br>
      <p>市</p>
      <input type="text" id="city" name="city">
      <p>区</p>
      <input type="text" id="ward" name="ward">
      <p>※町村名</p>
      <input type="text" id="town" name="town">
      <p>番地</p>
      <input type="text" id="address" name="address">
      <p>テスト(自動入力部分を全部表示)</p>
      <input type="text" id="cityval" name="cityval"><br><br>
      <input type="reset"  value="クリア"><br>
    </form>
    <input type="text" id="all" name="all"><br>
    <input type="text" id="test" name="test"><br>

    <script>

      $(function () {

        //自動で郵便番号を入力する
      	$('#zip').jpostal({
      		postcode : [
      			'#zip'
      		],
      		address : {
            '#prefecture'  : '%3',
      			'#town' : '%5',
            '#all' : '%4',
      		}

      	});

        //郵便番号の入力が空になった場合の処理
      	$('#zip').on('keyup', function(event){
      		if ($(this).val() == '') {
      			$('#prefecture').val('');
      			$('#city').val('');
            $('#town').val('');
            $('#all').val('');
      		}
      	});
      });

    </script>
  </body>
</html>
